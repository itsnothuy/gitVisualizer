# WCAG 2.2 AA Test Artifacts

This directory contains test artifacts generated during WCAG 2.2 AA compliance verification.

## Contents

### Axe Reports
- **wcag22-axe-report.json**: Comprehensive axe-core accessibility scan results
  - Generated by: `e2e/accessibility/wcag22.spec.ts`
  - Contains: Violations, passes, incomplete, and inapplicable rules
  - Tags: wcag2a, wcag2aa, wcag21a, wcag21aa, wcag22aa

### Focus Ring Screenshots
Focus appearance verification (WCAG 2.4.13):
- **focus-ring-light-theme.png**: Focus indicator in light mode
- **focus-ring-dark-theme.png**: Focus indicator in dark mode
- **focus-ring-lgb-theme.png**: Focus indicator in LGB theme
- **focus-ring-measurement.png**: Developer tools showing 2px stroke width

### Reduced Motion Videos
Reduced motion support verification (WCAG 2.3.3):
- **reduced-motion-enabled.mp4**: Animation behavior with prefers-reduced-motion: reduce
- **reduced-motion-disabled.mp4**: Animation behavior with standard motion preferences
- **reduced-motion-comparison.gif**: Side-by-side comparison

### Target Size Measurements
Target size verification (WCAG 2.5.8):
- **node-spacing-measurement.png**: Graph node spacing (typically 50-100px)
- **button-size-measurement.png**: UI button target sizes (40x40px+)
- **interactive-area-measurement.png**: Node interactive area (r=14 circle)

## How to Generate

### Axe Reports
```bash
# Run E2E tests with axe-core
pnpm test:e2e -- e2e/accessibility/wcag22.spec.ts

# Reports are automatically saved to test-results/axe-reports/
```

### Screenshots (Manual)
1. Navigate to /demo page
2. Tab to a graph node
3. Open browser DevTools (F12)
4. Screenshot the focused element with visible focus ring
5. Use DevTools to measure stroke width and contrast

### Videos (Manual)
1. Enable "Reduce motion" in OS settings (macOS/Windows)
2. Use screen recording software (OBS, QuickTime, etc.)
3. Navigate to /sandbox and perform Git operations
4. Compare animation behavior with/without reduced motion

## Automated Generation

The test suite automatically generates axe reports when tests run:

```typescript
// From e2e/accessibility/wcag22.spec.ts
test("should generate axe report artifact", async ({ page }) => {
  const results = await new AxeBuilder({ page })
    .withTags(["wcag2a", "wcag2aa", "wcag21a", "wcag21aa", "wcag22aa"])
    .analyze();
  
  fs.writeFileSync(reportPath, JSON.stringify(results, null, 2));
});
```

## CI Integration

In CI environments, artifacts are collected after test runs:

```yaml
# .github/workflows/ci.yml
- name: Upload test artifacts
  if: always()
  uses: actions/upload-artifact@v4
  with:
    name: accessibility-reports
    path: test-results/
```

## Verification Checklist

When reviewing artifacts:

- [ ] Axe report shows **0 violations** for critical/serious issues
- [ ] Focus rings are **≥2px thick** and **high contrast**
- [ ] Animations are **≤80ms** with reduced motion enabled
- [ ] Node spacing is **≥50px** (exceeds 24px requirement)
- [ ] Button targets are **≥40x40px** (exceeds 24x24px requirement)

## Notes

- Playwright browser installation may fail in restricted environments
- Manual screenshot/video capture is acceptable for documentation
- Focus measurements can be verified in browser DevTools
- Axe reports are the primary automated verification method
